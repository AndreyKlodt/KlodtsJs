window.onload=function(){document.body.classList.add("loaded_hiding"),window.setTimeout(function(){document.body.classList.add("loaded"),document.body.classList.remove("loaded_hiding")},500)};const burger=document.querySelector(".header__burger-wrapper"),burgerSpan=document.querySelector(".header__burger"),headerMenu=document.querySelector(".header__nav");burger.addEventListener("click",()=>{burgerSpan.classList.toggle("burger-center"),setTimeout(()=>{burgerSpan.classList.toggle("active"),document.body.classList.toggle("active"),headerMenu.classList.toggle("active")},500)});const successModal=document.querySelector(".success-modal"),modalClose=document.querySelectorAll(".modal-dialog__close");function showModal(e){e.classList.remove("hideModal"),e.classList.add("showModal"),callModal(e),document.body.style.overflow="hidden"}function hideModal(e){e.classList.remove("showModal"),e.classList.add("hideModal"),document.body.style.overflow=""}function callModal(e){e.addEventListener("click",o=>{o.target===e&&hideModal(e)}),modalClose.forEach(o=>{o.addEventListener("click",()=>hideModal(e))}),document.addEventListener("keydown",o=>{"Escape"==o.code&&e.classList.contains("showModal")&&hideModal(e)})}const forms=document.querySelectorAll("form"),message={loading:"img/form/spinner.svg",success:"Спасибо! Скоро мы с вами свяжемся",failure:"Что-то пошло не так..."};function postData(e){e.addEventListener("submit",o=>{o.preventDefault(),showModal(successModal);const s=new XMLHttpRequest;s.open("POST","server.php"),s.setRequestHeader("Content-type","application/json; charset=utf-8");const t=new FormData(e),d={};t.forEach(function(e,o){d[o]=e});const a=JSON.stringify(d);s.send(a),e.reset(),s.addEventListener("load",()=>{200===s.status&&console.log(s.response)})})}forms.forEach(e=>{postData(e)});