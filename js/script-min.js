"use strict";window.onload=function(){document.body.classList.add("loaded_hiding"),window.setTimeout(function(){document.body.classList.add("loaded"),document.body.classList.remove("loaded_hiding")},500)};const wrapper=document.querySelector(".tabs__items-wrapper"),pictures=wrapper.querySelectorAll(".tabs__item"),tabsButtons=document.querySelectorAll(".tabs__button"),linkButtons=document.querySelectorAll(".tabs__link");function hidePictures(e){pictures.forEach(e=>{e.classList.add("tabs__item--hide")}),pictures[e].classList.remove("tabs__item--hide"),pictures[e].classList.add("fade")}linkButtons.forEach((e,t)=>{e.addEventListener("click",e=>{e.preventDefault(),tabsButtons.forEach(e=>{e.classList.remove("tabs__button--active")}),e.target.classList.add("fade"),tabsButtons[t].classList.add("tabs__button--active"),hidePictures(t)})});const makeOrderBtn=document.querySelectorAll(".order-btn"),modalOrder=document.querySelector("[data-modalOrder]"),tabslCode=document.querySelector(".tabsCode"),tabsCodeBtn=document.querySelector("#tabs__code-btn"),modalClose=document.querySelectorAll(".modal-dialog__close"),sliderCode=document.querySelector(".sliderCode"),sliderCodeBtn=document.querySelector("#slider__code-btn"),timerCodeBtn=document.querySelector("#timer__code-btn"),timerCode=document.querySelector(".timerCode");function showModal(e){e.classList.remove("hideModal"),e.classList.add("showModal"),callModal(e),document.body.style.overflow="hidden"}function hideModal(e){e.classList.remove("showModal"),e.classList.add("hideModal"),document.body.style.overflow=""}function callModal(e){e.addEventListener("click",t=>{t.target===e&&hideModal(e)}),modalClose.forEach(t=>{t.addEventListener("click",()=>hideModal(e))}),document.addEventListener("keydown",t=>{"Escape"==t.code&&e.classList.contains("showModal")&&hideModal(e)})}makeOrderBtn.forEach(e=>{e.addEventListener("click",()=>showModal(modalOrder))}),sliderCodeBtn.addEventListener("click",()=>showModal(sliderCode)),timerCodeBtn.addEventListener("click",()=>showModal(timerCode)),tabsCodeBtn.addEventListener("click",()=>showModal(tabslCode));const forms=document.querySelectorAll("form"),successModal=document.querySelector(".success-modal");function postData(e){e.addEventListener("submit",t=>{t.preventDefault(),hideModal(modalOrder),showModal(successModal);const o=new XMLHttpRequest;o.open("POST","server.php"),o.setRequestHeader("Content-type","application/json; charset=utf-8");const n=new FormData(e),s={};n.forEach(function(e,t){s[t]=e});const r=JSON.stringify(s);o.send(r),e.reset(),o.addEventListener("load",()=>{200===o.status&&console.log(o.response)})})}forms.forEach(e=>{postData(e)});const burger=document.querySelector(".header__burger-wrapper"),burgerSpan=document.querySelector(".header__burger"),headerMenu=document.querySelector(".header__nav");burger.addEventListener("click",()=>{burgerSpan.classList.toggle("burger-center"),setTimeout(()=>{burgerSpan.classList.toggle("active"),document.body.classList.toggle("active"),headerMenu.classList.toggle("active")},300)});const sliderItems=document.querySelector(".slider-items"),leftSliderBtn=document.querySelector(".slider-button--left"),rightSliderBtn=document.querySelector(".slider-button--right"),sliderItem=document.querySelectorAll(".slider-item");let itemsAmmount=2,moveLenght=0,elemWidth=sliderItems.offsetWidth/itemsAmmount;function setSize(){sliderItems.childNodes.forEach(e=>{e.style.minWidth=elemWidth+"px"})}function transformPosition(){sliderItems.style.transform=`translate(${moveLenght+"px"})`}function moveRight(){rightSliderBtn.addEventListener("click",()=>{transformPosition(moveLenght-=elemWidth),checkPostion()})}function moveLeft(){leftSliderBtn.addEventListener("click",()=>{transformPosition(moveLenght+=elemWidth),checkPostion()})}function interval(){let e=setInterval(()=>{if(moveLenght!==elemWidth*(-sliderItems.childNodes.length+itemsAmmount))transformPosition(moveLenght-=elemWidth),checkPostion();else{clearInterval(e);let t=setInterval(()=>{0===moveLenght?(clearInterval(t),interval()):(transformPosition(moveLenght+=elemWidth),checkPostion())},4500)}},4500)}function checkPostion(){leftSliderBtn.disabled=0===moveLenght,moveLenght===elemWidth*(-sliderItems.childNodes.length+itemsAmmount)?rightSliderBtn.disabled=!0:rightSliderBtn.disabled=!1}function createSlide(e){return`<div class="slider-item">Оттенок серого <br> №${e}</div>`}function fillHtml(){sliderItems.innerHTML="";for(let e=1;e<=50;e++)sliderItems.innerHTML+=createSlide(e)}function RemaningTime(){const e=new Date("2021-05-03")-new Date;return{total:e,days:Math.floor(e/864e5),hours:Math.floor(e/60/60/60%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}}function getZero(e){return e>0&&e<=9?`0${e}`:e}function setTime(){const e=document.querySelector("#days"),t=document.querySelector("#hours"),o=document.querySelector("#minutes"),n=document.querySelector("#seconds"),s=setInterval(r,1e3);function r(){const r=RemaningTime();r.total<=0?clearInterval(s):(e.textContent=getZero(r.days),t.textContent=getZero(r.hours),o.textContent=getZero(r.minutes),n.textContent=getZero(r.seconds))}r()}fillHtml(),setSize(),checkPostion(),interval(),moveRight(),moveLeft(),setTime();